# –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∂–∞–ª–æ–±–∞–º–∏ "–†–µ–∑–æ–ª—é—Ü–∏–∏"

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∂–∞–ª–æ–±–∞–º–∏ —Å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∑–æ–ª—é—Ü–∏–π, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ë–∏—Ç—Ä–∏–∫—Å24.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

1. **–ó–∞–ø—É—Å–∫ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
   ```bash
   start.bat
   ```

2. **–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:**
   ```bash
   # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   npm run install:all
   
   # –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   npm run dev
   ```

3. **–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
   - Frontend: http://localhost:3000
   - Backend API: http://localhost:3001

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
complaints-app/
‚îú‚îÄ‚îÄ frontend/           # React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/ # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/   # API —Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types/      # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/      # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ public/
‚îú‚îÄ‚îÄ backend/            # Node.js API —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controllers/# –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/   # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/     # –ú–∞—Ä—à—Ä—É—Ç—ã API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ middleware/ # –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ –ü–û
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config/     # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ dist/          # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥
‚îî‚îÄ‚îÄ README.md          # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## ‚ú® –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- üìã **–ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –∂–∞–ª–æ–±** - —Ç–∞–±–ª–∏—Ü–∞ —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- ‚úèÔ∏è **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑–æ–ª—é—Ü–∏–π** - —É–¥–æ–±–Ω—ã–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
- üîç **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫** - –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º, —Å—Ç–∞—Ç—É—Å–∞–º, —Ç–µ–∫—Å—Ç—É
- üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –¥–∞—à–±–æ—Ä–¥ —Å –∫–ª—é—á–µ–≤—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
- üîó **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ë–∏—Ç—Ä–∏–∫—Å24** - –ø—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∑–∞–¥–∞—á–∏

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏
- üëÅÔ∏è **–°—Ç–∞—Ç—É—Å –ø—Ä–æ—Å–º–æ—Ç—Ä–∞** - –æ—Ç–º–µ—á–∞–π—Ç–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ –∂–∞–ª–æ–±—ã
- üìÑ **–¢–∏–ø—ã –¥–æ–∫–ª–∞–¥–æ–≤** - –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è / –ë–∏—Ç—Ä–∏–∫—Å / –£—Å—Ç–Ω–æ
- ‚úÖ **–†–µ–∑–æ–ª—é—Ü–∏–∏** - –¥–æ–±–∞–≤–ª—è–π—Ç–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ä–µ—à–µ–Ω–∏—è

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- üé® **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω** - –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã –∏ –∞–Ω–∏–º–∞—Ü–∏–∏
- üì± **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- üåà **–¶–≤–µ—Ç–æ–≤—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã** - –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã
- ‚ö° **–ë—ã—Å—Ç—Ä–æ–¥–µ–π—Å—Ç–≤–∏–µ** - –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### Frontend
- **React 18** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ UI
- **TypeScript** - —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JavaScript
- **Ant Design 5** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- **Axios** - HTTP –∫–ª–∏–µ–Ω—Ç
- **CSS Modules** - –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏

### Backend
- **Node.js** - —Å–µ—Ä–≤–µ—Ä–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞
- **Express** - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **TypeScript** - —Ç–∏–ø–∏–∑–∞—Ü–∏—è –¥–ª—è Node.js
- **PostgreSQL** - —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Helmet** - –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **CORS** - –∫—Ä–æ—Å—Å-–¥–æ–º–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
```env
DB_HOST=localhost
DB_PORT=5432
DB_NAME=complaints_db
DB_USER=admin
DB_PASSWORD=admin
```

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
- `complaints_list` - –æ—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∂–∞–ª–æ–±
- `resolution_templates` - —à–∞–±–ª–æ–Ω—ã —Ä–µ–∑–æ–ª—é—Ü–∏–π
- `inbox` - –≤—Ö–æ–¥—è—â–∏–µ –∑–∞–¥–∞—á–∏
- `data_01_40`, `data_01_30`, `ob` - —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (backend/.env)
```env
# –°–µ—Ä–≤–µ—Ä
PORT=3001
NODE_ENV=development

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
DB_HOST=localhost
DB_PORT=5432
DB_NAME=complaints_db
DB_USER=admin
DB_PASSWORD=admin

# CORS
CORS_ORIGIN=http://localhost:3000

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
```

## üìã API Endpoints

### –ñ–∞–ª–æ–±—ã
- `GET /api/complaints` - –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∂–∞–ª–æ–±
- `PATCH /api/complaints/:id/seen` - –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
- `PATCH /api/complaints/:id/report-type` - –æ–±–Ω–æ–≤–∏—Ç—å —Ç–∏–ø –¥–æ–∫–ª–∞–¥–∞
- `PATCH /api/complaints/:id/resolution` - –æ–±–Ω–æ–≤–∏—Ç—å —Ä–µ–∑–æ–ª—é—Ü–∏—é

### –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏
- `GET /api/resolution-templates` - —à–∞–±–ª–æ–Ω—ã —Ä–µ–∑–æ–ª—é—Ü–∏–π
- `GET /api/categories` - –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∂–∞–ª–æ–±
- `GET /api/statistics` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –°–ª—É–∂–µ–±–Ω—ã–µ
- `GET /health` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞

## üö¶ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm run install:all          # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm run install:frontend     # –¢–æ–ª—å–∫–æ frontend
npm run install:backend      # –¢–æ–ª—å–∫–æ backend

# –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev                  # –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
npm run start:frontend       # –¢–æ–ª—å–∫–æ frontend
npm run start:backend        # –¢–æ–ª—å–∫–æ backend

# –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
npm run build                # –°–æ–±—Ä–∞—Ç—å –≤—Å–µ
npm run build:frontend       # –¢–æ–ª—å–∫–æ frontend
npm run build:backend        # –¢–æ–ª—å–∫–æ backend

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
npm run test:frontend        # –¢–µ—Å—Ç—ã frontend
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **Helmet** - –∑–∞—â–∏—Ç–∞ HTTP –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
- **CORS** - –∫–æ–Ω—Ç—Ä–æ–ª—å –∫—Ä–æ—Å—Å-–¥–æ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **Rate Limiting** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
- **–í–∞–ª–∏–¥–∞—Ü–∏—è** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **SQL Injection** - –∑–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **Connection Pooling** - –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Å –ë–î
- **Compression** - —Å–∂–∞—Ç–∏–µ HTTP –æ—Ç–≤–µ—Ç–æ–≤
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã** - –∏–Ω–¥–µ–∫—Å—ã –∏ JOIN'—ã
- **Lazy Loading** - –ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –Ω–∞ —É—Ä–æ–≤–Ω–µ HTTP –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏
- Backend –ª–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏
- –ó–∞–ø—Ä–æ—Å—ã –∫ –ë–î –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –≤—Ä–µ–º–µ–Ω–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –û—à–∏–±–∫–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç stack trace –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- `http://localhost:3001/health` - —Å—Ç–∞—Ç—É—Å backend —Å–µ—Ä–≤–µ—Ä–∞
- –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ - –æ—à–∏–±–∫–∏ frontend

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –ñ–∞–ª–æ–±–∞ (Complaint)
```typescript
interface Complaint {
  id: number;
  bitrix_num: string;        // –ù–æ–º–µ—Ä –∑–∞–¥–∞—á–∏ –≤ –ë–∏—Ç—Ä–∏–∫—Å24
  vkh_num: string;           // –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –Ω–æ–º–µ—Ä –í–ö–•
  message_text: string;      // –¢–µ–∫—Å—Ç –∂–∞–ª–æ–±—ã
  resolution?: string;       // –¢–∏–ø —Ä–µ–∑–æ–ª—é—Ü–∏–∏
  add_comment?: string;      // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
  report_type: number;       // 0-–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è, 1-–ë–∏—Ç—Ä–∏–∫—Å, 2-–£—Å—Ç–Ω–æ
  seen: boolean;             // –ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–æ –ª–∏
  resolution_text?: string;  // –°–ª—É–∂–µ–±–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏
  resolution_final?: string; // –§–∏–Ω–∞–ª—å–Ω–∞—è —Ä–µ–∑–æ–ª—é—Ü–∏—è
  category?: string;         // –ö–∞—Ç–µ–≥–æ—Ä–∏—è –∂–∞–ª–æ–±—ã
  event_date?: string;       // –î–∞—Ç–∞ —Å–æ–±—ã—Ç–∏—è
}
```

## ü§ù –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–∏—Å—Ç–µ–º–µ

- **Node.js** >= 16.0.0
- **npm** >= 8.0.0
- **PostgreSQL** >= 12.0
- **–ü–∞–º—è—Ç—å** >= 4GB RAM
- **–ë—Ä–∞—É–∑–µ—Ä** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π ES2020

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø–æ—Ä—Ç—ã —Å–≤–æ–±–æ–¥–Ω—ã (3000, 3001)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ